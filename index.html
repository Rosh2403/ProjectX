<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ProjectX Invoice Reconciliation</title>
  </head>
  <body>
    <main class="phone-shell">
      <section class="app-card">
        <header class="top">
          <div class="top-head">
            <div>
              <p class="eyebrow">ProjectX</p>
              <h1>Joe Tech Engineering</h1>
              <p class="subhead">Track contracts, purchase orders, and progress claims.</p>
            </div>
            <img class="brand-logo" src="logo.png" alt="Joe Tech Engineering logo" />
          </div>
          <div class="metric-row" id="metricRow"></div>
        </header>

        <section class="panels">
          <section id="dashboardPanel" class="panel active">
            <h2>Dashboard</h2>
            <div id="dashboardStats" class="dashboard-stats"></div>
            <h3 class="section-title">By Client</h3>
            <div id="dashboardClientList" class="list compact"></div>
            <h3 class="section-title">Monthly Claims</h3>
            <div id="dashboardMonthlyList" class="list compact"></div>
          </section>

          <section id="ordersPanel" class="panel">
            <h2>Purchase Orders</h2>
            <div class="order-tools">
              <label class="field">
                <span>Search by Client or PO Number</span>
                <input id="orderSearchInput" type="search" placeholder="Try Apex or PO-2026-001" />
              </label>
              <label class="field">
                <span>Sort</span>
                <select id="orderSortSelect">
                  <option value="company-asc">Company (A-Z)</option>
                  <option value="company-desc">Company (Z-A)</option>
                  <option value="date-desc">Sent Date (Newest)</option>
                  <option value="date-asc">Sent Date (Oldest)</option>
                </select>
              </label>
            </div>
            <div id="purchaseOrderList" class="list"></div>
          </section>

          <section id="createOrderPanel" class="panel">
            <h2>Create Purchase Order</h2>
            <form id="purchaseOrderForm" class="form">
              <label class="field">
                <span>Client Name</span>
                <input
                  id="clientNameInput"
                  type="text"
                  required
                  placeholder="Acme Industries"
                  list="clientNameSuggestions"
                  autocomplete="off"
                />
                <datalist id="clientNameSuggestions"></datalist>
              </label>
              <label class="field">
                <span>Contract Length (Months)</span>
                <input id="contractLengthInput" type="number" required min="1" placeholder="12" />
              </label>
              <label class="field">
                <span>Contract Value (SGD)</span>
                <input id="contractValueInput" type="number" required min="1" step="1" placeholder="250000" />
              </label>
              <label class="field">
                <span>Order Sent Date</span>
                <input id="orderSentDateInput" type="date" required />
              </label>
              <p id="purchaseOrderError" class="form-error hidden" role="alert"></p>
              <button type="submit" class="btn">Add Purchase Order</button>
            </form>
          </section>

          <section id="invoicePanel" class="panel">
            <h2>Invoices</h2>
            <form id="invoiceForm" class="form">
              <label class="field">
                <span>Contract</span>
                <select id="invoicePurchaseOrderSelect" required></select>
              </label>
              <label class="field">
                <span>Progress Claim Amount (SGD)</span>
                <input id="claimAmountInput" type="number" required min="1" step="1" placeholder="18000" />
              </label>
              <label class="field">
                <span>Claim Date</span>
                <input id="claimDateInput" type="date" required />
              </label>
              <p id="invoiceError" class="form-error hidden" role="alert"></p>
              <button type="submit" class="btn">Add Invoice Claim</button>
            </form>
            <div id="invoiceList" class="list"></div>
          </section>

          <section id="reportsPanel" class="panel">
            <h2>Export & Reporting</h2>
            <div class="form report-block">
              <p class="report-text">Download CSV reports for finance reconciliation.</p>
              <div class="report-actions">
                <button id="exportOrdersBtn" class="btn btn-secondary" type="button">Export Purchase Orders CSV</button>
                <button id="exportInvoicesBtn" class="btn btn-secondary" type="button">Export Invoices CSV</button>
                <button id="exportClientSummaryBtn" class="btn btn-secondary" type="button">Export Client Summary CSV</button>
              </div>
            </div>
            <div class="form report-block">
              <div class="item-head">
                <h3>Snapshot</h3>
                <button id="downloadSnapshotBtn" class="btn btn-secondary compact" type="button">Download TXT</button>
              </div>
              <pre id="reportSnapshot" class="snapshot"></pre>
            </div>
          </section>
        </section>

        <nav class="tabbar" aria-label="Primary Tabs">
          <button id="dashboardTab" class="tab active" type="button">Dashboard</button>
          <button id="ordersTab" class="tab" type="button">Purchase Orders</button>
          <button id="createOrderTab" class="tab" type="button">Create PO</button>
          <button id="invoiceTab" class="tab" type="button">Invoices</button>
          <button id="reportsTab" class="tab" type="button">Reports</button>
        </nav>
      </section>
    </main>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
